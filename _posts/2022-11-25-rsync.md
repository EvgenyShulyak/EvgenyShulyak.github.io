---
layout: post
title:  rsync
categories: News Linux
---

***!!!создать полную резервную копию системы Linux с помощью утилиты Rsync***

Для начала, нам нужен резервный носитель (USB-флешка или внешний жесткий диск). 
Далее нужно узнать имя диска, используя команду «**fdisk -l**». В моем случае диск 
определился как /dev/sdb1. Теперь примонтируем наш резервный накопитель в любое 
удобное место, я выбрал **/mnt**:

>$ sudo mount /dev/sdb1 /mnt

***(так же можно скопировать в любую папку,на любом разделе диска)***

Чтобы создать резервную копию всей системы, все, что вам нужно сделать, это 
открыть терминал. Затем запустить в нем следующую команду от имени пользователя 
**root**:

>$ sudo rsync -aAXv / 
--exclude={" /dev/* ","/proc/* "," /home/ * ","/sys/* "," /tmp/* "," /run/* "," /mnt/* "," /
media /* "," /lost+found "} /mnt

Эта команда создаст резервную копию всей корневой директории (/), исключая 
директории /dev, /proc, /sys, /tmp, /run, /mnt, /media,  lost + found в папке / 
mnt.

**rsync** — быстрая, универсальная, локальная и удаленная утилита копирования 
файлов.

**-aAXv** — файлы передаются в режиме «архив», что гарантирует сохранение 
символических ссылок, устройств, разрешений, владельцев, времени модификации, 
списков ACL и расширенных атрибутов.

-  / — Исходный каталог.
-  --exclude — исключает заданные каталоги из резервной копии.
-  /mnt — это папка назначения резервного копирования.


***Обязательно исключите целевой каталог, если он существует в локальной 
системе, иначе будет бесконечный цикл копирования.***

***Чтобы восстановить систему из резервной копии, просто измените исходные и 
целевые пути в приведенной выше команде.***